---
title: 理论篇-python之模块
date: 2017-05-11 21:51:34
tags:
    - python
---

模块是一种代码组织的单元，是一种命名空间，本质是一个字典。

import的工作原理:

1. 发现模块文件
2. 编译到字节码(需要的时候)
    
    通过比较.py文件和.pyc文件的时间戳来判断是否需要重新编译。编译只有在导入的时候发生，.pyc是编译产生的字节码文件。
3. 运行字节码来构建对象
    
    文件里的所有语句从上到下执行，赋值语句将生成模块的属性。

只有当**第一次**import一个模块的时候才会执行以上步骤。随后的import仅仅是获取已经在内存中的对象。被导入的模块被存在sys.modules表里。


```
sys.modules  # 已导入的所有的模块
import
from
imp.reload
```










#### 题外话

C语言的#include仅仅是文本的替换